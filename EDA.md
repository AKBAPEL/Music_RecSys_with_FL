# Анализ датасета train_df.


1. Категориальные переменные
   1) Были обработаны пропуски в колонках source_system_tab, source_screen_name, source_type.  Т.к количество пропусков в этом датасете не превышает 7%, было принято решение использовать пропуски как источник дополнительной информации. Т.к информацию в этих признаках должна предоставлять серверная часть сервиса, положим, что не всегда удается определить каким образом пользователь взаимодействовал с треком. Возможно при реализации приложения такие ситуации тоже будут иметь место, поэтому оставим эти признаки. 
   2) Были построены графики зависимости target-переменной от уникальных значений. Т.к распределение target у нас равномерное, можно понять что почти все признаки в той или иной мере коррелируют с target.     
 Например очень заметна предрасположенность пользователей к очередному прослушиванию треков из собственной библиотеки.
   3) Были построены тепловые карты признаков, для отслеживания наиболее коррелируемых с target значений этих признаков.

2. Обработка временных данных о треках.
   1) Была извлечена информация о количестве прослушиваний каждого трека, а так же информация о случаях, когда трек слушали лишь единожды.
   2) Был составлен топ треков. Выяснилось что очень большую популярность имеют треки из китая и других азиатских стран (ввиду большего населения). Был составлен топ не азиатских треков. Туда уже попали в основном знакомые обывателю треки известных исполнителей.
   3) Из информации о том сколько пользователей вновь прослушало каждый трек а сколько слушало его лишь один раз был составлен новый признак - ratio (отношение этих двух характеристик).
      По этому новому признаку были построены несколько графиков. Плотность и гистограммы распределения по классам. Есть гипотеза о том, что этот признак достаточно важен, т.к некоторые треки пользователи могут "заслушивать" по несколько раз. Что должно улучшить точность предсказания модели в дальнейшем.

# Анализ датасетов songs и song_extra_info
За время исследования датасетов были проделаны:
- Обработка признака `ISRC`
    - Были добавлены признаки `country` -- страна, в которой был зарегистрирован трек, `organization` -- издатель и `year_of_registration` -- год регистрации.
- Обработка пропусков в данных
    - Было принято решение внести специальное обозначение для пропусков, т.к. их доля была довольно высока (у признака `composer` доля пропусков `47%`, а у признака `lyricist` - `85%`), и, например, были выдвинуты гипотезы, что если нет информации о композиторе или авторе песен, то это был сам исполнитель.
- Обработка выбросов
    - Выбросы наблюдались только у признака `song_length` и то в небольшой доле -- всего около `7%`, в связи с чем, было принято решение избавиться от них.
- Построение графиков
    - Были построены графики распередениея в зависимости от новых и страых признаков и были сдлеаны выводы, что больше всего песен выпускали в 15 году, а страна, котороя больше всего выпустила песен, -- `US`
    - Была построена зависимость средней длины песни от года выпуска и по ней можно сделать вывод, что зависиомсть особо не наблюдается, то в средние года песни были дольше всего.

# Анализ датасета members
Датасет кроме одного признака состоит из числовых и категориальных данных.
- **Пропуски** были в столбцах `bd`, `gender` и их было достаточно много -- половина от обоих признаков, причем почти все люди, не указавшие возраст, не указали и пол, в связи с этим хорошим решением было добавить признак noage_nogender, чтобы таким образом лучше выделить людей, которые не указывают о себе минимальную информацию.
- **Выбросы** наблюдались в столбцах `bd`, `registration_via` (если так можно назвать -- очень малый процент использовал 5 способ), `expiration_year` (год истечения регистрации меньше года регистрации очевидно выброс, возможно вызванный ошибкой в системе). В столбце `bd`(возраст) очевидно некоторые люди будут ставить себе нерелевантные возрасты (100+, 0 лет) -- возраст 100+ взят по модулю 100, люди с возрастом 0 обработаны как пропуски и заполнены медианой.
- **Наблюдения по распределениям:** количество зарегистрированных линейно зависит от года регистрации, что не вызывает вопросов; возраст людей в основном варьируется от 18 до 40, но большинство -- плюс минус 27 лет; подавялющее большинство указало город проживания под номером 1
- **Сильно коррелирующие признаки:** (nogender_noage, registration_year) -- чем позже зарегистрировались, тем больше шанс, что укажут пол или возраст, (nogender_noage, city) -- люди из крупных городов охотнее (или наоброт) указывают пол или возраст; (membership_duration, registration_via) -- высокая положительная корреляция
Предобработанный Members будем использовать в качестве хорошего вспомогательного источника информации для обогащения других данных
